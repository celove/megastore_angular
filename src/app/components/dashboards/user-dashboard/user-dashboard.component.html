<p-fieldset legend="Dashboard Lojistas">
    <div class="col-12">
		<div class="card">
			<p-table [value]="users" scrollDirection="both" [scrollable]="true" scrollHeight="400px" styleClass="mt-3" responsiveLayout="scroll">
				<ng-template pTemplate="header">
					<tr>
						<th>Nome</th>
						<th >Nome Loja</th>
						<th >CNPJ</th>
						<th >Email</th>
                        <th >Telefone</th>
                        <th >Opções</th>
					</tr>
				</ng-template>
				<ng-template pTemplate="body" let-user>
					<tr>
						<td class="font-bold">{{user.name}}</td>
						<td>{{user.storeName}}</td>
						<td>
							<span class="image-text ml-2" >{{maskCnpj(user.cnpj)}}</span>
						</td>
						<td>{{user.email}}</td>
                        <td>{{maskPhone(user.phone)}}</td>
                        
                        <td class="options">
							<p-button icon="pi pi-eye" [rounded]="true" severity="info" [outlined]="true" [routerLink]="['/user', user.id]" />
							<p-button class="delete-button" icon="pi pi-times" [rounded]="true" severity="danger" [outlined]="true" (click)="confirm($event, user)" />
						</td>
					</tr>
				</ng-template>
			</p-table>
            <div class="add-user p-field p-col-12 md:col-12">
                <button pButton type="button" icon="pi pi-plus"  (click)="addUser()"></button>
            </div>
		</div>
	</div>
</p-fieldset>
<p-confirmPopup>
    <ng-template pTemplate="content" let-message>
        <div class="flex flex-column align-items-center w-full gap-3 border-bottom-1 surface-border p-3 mb-3">
            <i [class]="message.icon" class="text-6xl text-primary-500"></i>
            <p>{{ message.message }}</p>
        </div>
    </ng-template>
</p-confirmPopup>